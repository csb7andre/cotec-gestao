<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COTEC | Gest√£o Policial</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
    <script defer src="app.js"></script>
<meta name="theme-color" content="#0f172a">
<link rel="apple-touch-icon" href="1770196336247.png">

<link rel="icon" type="image/png" href="1770196336247.png">
<link rel="manifest" href="manifest.json">
</head>

<body>


      
    <nav class="navbar">          
    <div class="nav-brand">
        <img src="LOGO.jpg" alt="Bras√£o" class="brand-logo">
        <div class="brand-text">
            <h1>COTEC</h1>
            <span>COORDENA√á√ÉO DE GEST√ÉO DE TECNOLOGIAS POLICIAIS E CREDENCIAMENTO</span>
    </div>
    <div class="nav-actions">
    </div>
</nav>

<main class="container">
    <div class="dashboard-grid">
        <aside class="config-sidebar">
            <section class="glass-card">
                <h3>Equipe</h3>
                <div class="input-group">
                    <input id="novoMembro" placeholder="Nome...">
                    <button class="btn-accent" onclick="addMembro()">+</button>
                </div>
                <ul id="listaMembros" class="item-list"></ul>
            </section>
            <section class="glass-card" style="margin-top:20px">



                <h3>Tarefas Base</h3>
                <div class="input-group">
                    <input id="novaTarefa" placeholder="Tarefa...">
                    <button class="btn-accent" onclick="addTarefa()">+</button>
                </div>
                <ul id="listaTarefas" class="item-list"></ul>
            </section>
        </aside>

        <div class="operational-area">
            <div class="selection-row" style="display:flex; gap:15px; margin-bottom:20px">
                <section class="glass-card" style="flex:1">
                    <h3>Presen√ßa</h3>
                    <div id="presentes" class="chip-container"></div>
                </section>
                <section class="glass-card" style="flex:1">
                    <h3>Ativar na Escala</h3>
                    <div id="tarefasHoje" class="chip-container"></div>
                </section>
            </div>

            <section class="glass-card">
                <div style="display:flex; justify-content:space-between">
                    <h3>Distribui√ß√£o</h3>
                    <button class="btn-reset" onclick="resetarPainelEscala()">Limpar</button>
                </div>
                <div id="painelTarefas" class="painel-tarefas-grid"></div>
            </section>

            <button class="btn-mega" onclick="gerarEscala('HOJE')">GERAR ESCALA DO DIA</button>
            <button class="btn-mega btn-secundario" onclick="abrirModalData()">ESCALA OUTRA DATA / PER√çODO</button>
            
            <section id="resultSection" class="glass-card hidden" style="margin-top:20px">
                <h3 id="tituloEscalaGerada"></h3>
                <div id="resultado"></div>
                <div class="export-controls">
                    <select id="exportScope" onchange="toggleIndividualSelect()" class="custom-select">
                        <option value="equipe">Toda a Equipe</option>
                        <option value="individual">Agente Individual</option>
                    </select>
                    <select id="selectIndividual" class="hidden custom-select"></select>
                    <div class="export-buttons">
                        <button class="btn-exp" onclick="executarExport('print')">Imprimir</button>
                        <button class="btn-exp" onclick="executarExport('word')">Word</button>
                        <button class="btn-exp btn-whatsapp" onclick="executarExport('whats')">WhatsApp</button>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <hr style="margin:40px 0">
    

    <section class="glass-card">
       

         <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px">
    <div style="display:flex; align-items:center; gap:10px; cursor:pointer"
         onclick="toggleDemandas()">

        <span id="setaDemandas">‚ñº</span>
        <h2 style="margin:0">
            <span id="tituloDemandas">Acompanhamento de Demandas</span>
            <span id="contadorDemandas"></span>
        </h2>
    </div>

    <button class="btn-accent" onclick="novaDemanda()">+ Nova Demanda</button>
</div>
 
        
        <div id="listaDemandas"></div>

        <div style="
    margin-top:20px;
    background:#f1f5f9;
    padding:15px;
    border-radius:8px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:10px;
    flex-wrap:wrap;
">
    <div>
        <b>A√ß√µes em Lote (Marcadas):</b>
        <button class="btn-exp" onclick="exportarDemandasLote('print')">Imprimir</button>
        <button class="btn-exp" onclick="exportarDemandasLote('word')">Word</button>
        <button class="btn-exp btn-whatsapp" onclick="exportarDemandasLote('whats')">WhatsApp</button>
    </div>

    


    <button class="btn-reset"
            onclick="abrirDemandasConcluidas()">
        VER DEMANDAS CONCLU√çDAS
    </button>
</div>

    </section>

<section class="glass-card">
   <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px">
    <div style="display:flex; align-items:center; gap:10px; cursor:pointer"
         onclick="toggleReunioes()">

        <span id="setaReunioes">‚ñº</span>
        <h2 style="margin:0">
            <span>REUNI√ïES</span>
            <span id="contadorReunioes"></span>
        </h2>
    </div>

    <button class="btn-accent" onclick="novaReuniao()">+ Nova Reuni√£o</button>
</div>


    <div id="listaReunioes"></div>
</section>
<section class="glass-card">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px">
        <div style="display:flex; align-items:center; gap:10px; cursor:pointer"
             onclick="toggleProjetos()">

            <span id="setaProjetos">‚ñº</span>
            <h2 style="margin:0">
                PROJETOS
                <span id="contadorProjetos"></span>
            </h2>
        </div>

        <button class="btn-accent" onclick="novoProjeto()">+ Novo Projeto</button>
    </div>

    <div id="listaProjetos"></div>
</section>





<!-- MODAL PROJETO -->
<div id="modalProjeto" class="modal">
  <div class="modal-content" style="max-width:700px">

    <div style="display:flex; justify-content:space-between; align-items:center;">
      <h3>Projeto</h3>
      <button class="btn-reset" onclick="fecharModalProjeto()">‚ûñ</button>
    </div>

    <hr>

    <div id="editorProjeto"
         style="height:250px; background:white;"></div>

    <hr>

    <button class="btn-accent"
            style="width:100%"
            onclick="gravarDescricaoProjeto()">
        üíæ Gravar Projeto
    </button>

  </div>
</div>
<!-- MODAL SORTEIO -->
<div id="modalSorteio" class="modal">
  <div class="modal-content">
    <h3>Sortear Agente</h3>
    <div id="elegiveisContainer" class="chip-container"></div>
    <input type="number" id="qtdTotal" value="1">
    <button onclick="confirmarSorteio()">Sortear</button>
    <button onclick="fecharModal()">Fechar</button>
  </div>
</div>

<!-- MODAL SORTEIO DEMANDA -->
<div id="modalSorteioDemanda" class="modal">
  <div class="modal-content">
    <h3>Sortear para Demanda</h3>
    <div id="elegiveisDemandaContainer"></div>
    <input type="number" id="qtdTotalDem">
    <button onclick="confirmarSorteioDemanda()">Sortear</button>
    <button onclick="fecharModalDemanda()">Fechar</button>
  </div>
</div>

<!-- MODAL DATA -->
<div id="modalData" class="modal">
  <div class="modal-content">
    ...
  </div>
</div>

<!-- MODAL PROJETO -->
<div id="modalProjeto" class="modal">
  <div class="modal-content">
    <h3>Projeto</h3>
    <button onclick="fecharModalProjeto()">‚ûñ</button>
    <div id="editorProjeto" style="height:250px"></div>
    <button onclick="gravarDescricaoProjeto()">üíæ Gravar Projeto</button>
  </div>
</div>

</body>
</html>